= cmd tool - explanantion
:toc:
:toclevels: 4
:numbered:

== branch
* `step01-naive`

== goal
* we want to use slf4j
* we want to log to the command line (were are a cli tool, here)
* we want to be good citizen and don't force use of a specific slf4j implementation to maven downstream (look at slf4j-spike-consumer)

== explanation
* OK. So now, we will declare a maven dependency for implementation
* but we will mark it as `optional`, so that it is not inherited by maven downstreams
* we will configure `maven-shade-plugin` to take it into account

== problem found
* we still have the problem that adding the `slf4j-simple` classes to our fat jar won't make it useable
* but now we discovered something new
** slf4j relies on `ServiceLocator` for finding its implementation
** not only on the classpath
** `ServiceLocator` depends on the file `META-INF/services.xml`
** So we will add this file in the `maven-shade-plugin` config
* So, we will modify the `maven`

== advantages
* we didn't break the `slf4j-spike-consumer` as the maven dependency is optionnal.
